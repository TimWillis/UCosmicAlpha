var App;(function(n){(function(n){var t=function(){function n(t,i,r){this.created=$.Deferred(),this.lat=ko.observable(this._options.center?this._options.center.lat():n.defaultCenter.lat()),this.lng=ko.observable(this._options.center?this._options.center.lng():n.defaultCenter.lng()),this.zoom=ko.observable(this._options.zoom||this._options.zoom==0?this._options.zoom:1),this.north=ko.observable(),this.south=ko.observable(),this.east=ko.observable(),this.west=ko.observable(),this._element=typeof t=="string"?document.getElementById(t):t,this._options=i||{},this._settings=r||{},(typeof this._settings.autoCreate=="undefined"||this._settings.autoCreate)&&this.create()}return n.prototype.create=function(){var i=this,t;return this.created=$.Deferred(),this.map?this.created.resolve():(t=this._options,t.center||(t.center=n.defaultCenter),t.zoom||(t.zoom=1),t.scrollwheel||(t.scrollwheel=!1),this.map=new google.maps.Map(this._element,t),google.maps.event.addListenerOnce(this.map,"idle",function(){i._listenForCenterChange(),i._listenForZoomChange(),i._listenForBoundsChange(),i.created.resolve()})),this.created},n.prototype._centerChanged=function(){var n=this.map.getCenter();this.lat(n.lat()),this.lng(n.lng())},n.prototype._listenForCenterChange=function(){var n=this;google.maps.event.addListener(this.map,"center_changed",function(){n._centerChanged()})},n.prototype._zoomChanged=function(){var n=this.map.getZoom();this.zoom(n)},n.prototype._listenForZoomChange=function(){var n=this;google.maps.event.addListener(this.map,"zoom_changed",function(){n._zoomChanged()})},n.prototype._boundsChanged=function(){var n=this.map.getBounds(),t=n.getNorthEast(),i=n.getSouthWest();this.north(t.lat()),this.east(t.lng()),this.south(i.lat()),this.west(i.lng())},n.prototype._listenForBoundsChange=function(){var n=this;google.maps.event.addListener(this.map,"bounds_changed",function(){n._centerChanged()})},n.defaultCenter=new google.maps.LatLng(0,0),n}();n.Map=t})(n.GoogleMaps||(n.GoogleMaps={}));var t=n.GoogleMaps})(App||(App={}))