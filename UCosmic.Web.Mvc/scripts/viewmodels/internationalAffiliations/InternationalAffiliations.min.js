var ViewModels;(function(n){(function(n){var t=function(){function n(){}return n}(),i;n.InternationalAffiliationSearchInput=t,i=function(){function n(n){this.personId=n}return n.prototype.load=function(){var r=this,i=$.Deferred(),n=new t;return n.personId=this.personId,n.orderBy="",n.pageNumber=1,n.pageSize=App.Constants.int32Max,$.get(App.Routes.WebApi.InternationalAffiliations.get(),n).done(function(n){ko.mapping.fromJS(n,{},r),i.resolve()}).fail(function(n,t,r){i.reject(n,t,r)}),i},n.prototype.deleteAffiliationById=function(n){$.ajax({async:!1,type:"DELETE",url:App.Routes.WebApi.InternationalAffiliations.del(n),success:function(){},error:function(n,t){alert(t)}})},n.prototype.deleteAffiliation=function(n,t,i){$("#confirmInternationalAffiliationDeleteDialog").dialog({dialogClass:"jquery-ui",width:"auto",resizable:!1,modal:!0,buttons:[{text:"Yes, confirm delete",click:function(){i.deleteAffiliationById(n.id()),$(this).dialog("close"),location.href=App.Routes.Mvc.My.Profile.get("international-affiliation")}},{text:"No, cancel delete",click:function(){$(this).dialog("close")}}]})},n.prototype.editUrl=function(n){return App.Routes.Mvc.My.InternationalAffiliations.edit(n)},n.prototype.formatLocations=function(n){for(var i="",t=0;t<n.length;t+=1)t>0&&(i+=", "),i+=n[t].placeOfficialName();return i},n.prototype.formatDates=function(n,t,i){var r=n.toString();return i?r+=" (Ongoing)":t!=null&&(r+=" - "+t.toString()),r.length>0&&(r+="  "),r},n}(),n.InternationalAffiliationList=i})(n.InternationalAffiliations||(n.InternationalAffiliations={}));var t=n.InternationalAffiliations})(ViewModels||(ViewModels={}))