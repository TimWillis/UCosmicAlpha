var ViewModels;(function(n){(function(n){var i=function(){function n(){this._ruleName="validUserName",this._isAwaitingResponse=!1,this.async=!0,this.message="error",ko.validation.rules[this._ruleName]=this,ko.validation.addExtender(this._ruleName)}return n.prototype.validator=function(n,t,i){var u=this,r;this._isAwaitingResponse||(r=App.Routes.WebApi.Identity.Users.validateName(t.id()),this._isAwaitingResponse=!0,$.post(r,{name:t.name()}).always(function(){u._isAwaitingResponse=!1}).done(function(){i(!0)}).fail(function(n){i({isValid:!1,message:n.responseText})}))},n}(),t;new i,t=function(){function n(){var n=this;this.id=ko.observable(),this.name=ko.observable(),this.name.extend({required:{message:"Username is required."},maxLength:256,validUserName:this}),this.isValidating=ko.computed(function(){return n.name.isValidating()}),ko.validation.group(this)}return n.prototype.save=function(){var n=this;if(this.isValidating())return setTimeout(function(){n.save()},50),!1;this.isValid()||this.errors.showAllMessages()},n}(),n.User=t})(n.Users||(n.Users={}));var t=n.Users})(ViewModels||(ViewModels={}))