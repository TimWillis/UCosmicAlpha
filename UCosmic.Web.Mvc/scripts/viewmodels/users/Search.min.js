var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},ViewModels;(function(n){(function(t){var r=function(t){function i(){t.call(this),this.sammy=Sammy(),this._init()}return __extends(i,t),i.prototype._init=function(){this._setupSammy(),this._setupQueryComputed()},i.prototype._pullResults=function(){var n=$.Deferred(),t={pageSize:this.pageSize(),pageNumber:this.pageNumber(),keyword:this.throttledKeyword(),orderBy:this.orderBy()};return $.get(App.Routes.WebApi.Users.get(),t).done(function(t,i,r){n.resolve(t,i,r)}).fail(function(t,i,r){n.reject(t,i,r)}),n},i.prototype._loadResults=function(t){var i={items:{key:function(n){return ko.utils.unwrapObservable(n.id)},create:function(t){return new n.Users.SearchResult(t.data)}},ignore:["pageSize","pageNumber"]};ko.mapping.fromJS(t,i,this),this.spinner.stop(),this.transitionedPageNumber(this.pageNumber())},i.prototype._setupQueryComputed=function(){var n=this;ko.computed(function(){n.pageSize()!==undefined&&n.orderBy()!==undefined&&n._pullResults().done(function(t){n._loadResults(t)}).fail(function(){})}).extend({throttle:250})},i.prototype._setupSammy=function(){var t=this,n=this;this.sammy.before(/\#\/page\/(.*)/,function(){if(n.nextForceDisabled()||n.prevForceDisabled())return!1;var t=this.params.pageNumber;return t&&parseInt(t)!==parseInt(n.pageNumber())&&n.pageNumber(parseInt(t)),!0}),this.sammy.get("#/page/:pageNumber/",function(){}),this.sammy.get("/users[/]?",function(){t.sammy.setLocation("#/page/1/")})},i}(n.PagedSearch),i;t.Search=r,i=function(){function n(n){ko.mapping.fromJS(n,{},this),this._setupRoleGrantComputeds()}return n.prototype._setupRoleGrantComputeds=function(){var n=this;this.hasRoles=ko.computed(function(){return n.roleGrants().length>0}),this.hasNoRoles=ko.computed(function(){return!n.hasRoles()})},n}(),t.SearchResult=i})(n.Users||(n.Users={}));var t=n.Users})(ViewModels||(ViewModels={}))