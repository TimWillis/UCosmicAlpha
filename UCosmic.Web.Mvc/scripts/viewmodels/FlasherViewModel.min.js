var FlasherViewModel=function(){function n(){var n=this;this.text=ko.observable(),this.tickCount=ko.observable(9),this._ticks=0,this._tickInterval=undefined,this.element=undefined,ko.computed(function(){n.init()})}return n.prototype.init=function(){var n=this;this.text()?(window.clearInterval(this._tickInterval),this._ticks=9,this.tickCount(this._ticks),this._tickInterval=window.setInterval(function(){n.tick()},1e3),this.$element().hide().removeClass("hide").fadeIn("fast")):(this._tickInterval&&window.clearInterval(this._tickInterval),this.element&&this.$element().addClass("hide"))},n.prototype.tick=function(){this._ticks<=0?(this._ticks=0,window.clearInterval(this._tickInterval),this.dismiss()):--this._ticks,this.tickCount(this._ticks)},n.prototype.$element=function(){return $(this.element)},n.prototype.flash=function(n){this.text(undefined),n&&this.text(n)},n.prototype.dismiss=function(){var n=this;this.$element().fadeOut("slow",function(){n.text(""),n.$element().addClass("hide")})},n}();app.flasher=new FlasherViewModel,ko.applyBindings(app.flasher,$(".flasher")[0])