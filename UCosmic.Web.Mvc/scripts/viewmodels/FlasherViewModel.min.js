var FlasherViewModel=function(){function n(){var n=this;this.text=ko.observable(),this.element=undefined,this.tickCount=ko.observable(9),this._ticks=0,this._tickInterval=undefined,ko.computed(function(){n.text()?(window.clearInterval(n._tickInterval),n._ticks=9,n.tickCount(n._ticks),n._tickInterval=window.setInterval(function(){n.tick()},1e3),n.$element().hide().removeClass("hide").fadeIn("fast")):(n._tickInterval&&window.clearInterval(n._tickInterval),n.element&&n.$element().addClass("hide"))})}return n.prototype.$element=function(){return $(this.element)},n.prototype.flash=function(n){this.text(undefined),n&&this.text(n)},n.prototype.tick=function(){this._ticks<=0?(this._ticks=0,window.clearInterval(this._tickInterval),this.dismiss()):--this._ticks,this.tickCount(this._ticks)},n.prototype.dismiss=function(){var n=this;this.$element().fadeOut("slow",function(){n.text(""),n.$element().addClass("hide")})},n}();app.flasher=new FlasherViewModel,ko.applyBindings(app.flasher,$(".flasher")[0])