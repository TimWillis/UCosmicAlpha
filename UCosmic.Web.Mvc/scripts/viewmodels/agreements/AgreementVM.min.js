define(["require","exports","../amd-modules/Establishments/SearchResult","../amd-modules/Establishments/Search"],function(n,t,i,r){var s=i,h=r,e=h.Search,u=s.SearchResult,f=function(){function n(){this.isNotOwner=ko.computed(function(){return!1})}return n}(),o;t.InstitutionalAgreementParticipantModel=f,o=function(){function n(n){typeof n=="undefined"&&(n=!0),this.initDefaultPageRoute=n,this.isBound=ko.observable(),this.back=function(){history.back()},this.sideSwiper=new App.SideSwiper({speed:"",frameWidth:970,root:"[data-current-module=agreements]"}),this.owner=new e(!1),this.owner2=new e(!1),this.tenantDomain="uc.edu",this.establishmentSearchViewModel=new e,this.hasBoundSearch=!1,this.participants=ko.observableArray(),this.trail=ko.observableArray([]),this.nextForceDisabled=ko.observable(!1),this.prevForceDisabled=ko.observable(!1),this.pageNumber=ko.observable(),this.populateParticipants(),this.isBound(!0),this.removeParticipant=this.removeParticipant.bind(this)}return n.prototype.populateParticipants=function(){var n=new f({isOwner:!0,establishment:new u({id:1,officialName:"University of Cincinnati22",translatedName:"University of Cincinnati22",officialUrl:"www.uc.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},this.owner),isNotOwner:!1}),t=new f({isOwner:!0,establishment:new u({id:1,officialName:"University of Cincinnati232",translatedName:"University of Cincinnati232",officialUrl:"www.uc.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},this.owner2),isNotOwner:!1});this.tenantDomain==="usf.edu"&&(n.establishment=new u({id:1,officialName:"University of South Florida",translatedName:"University of South Florida",officialUrl:"www.usf.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},this.owner)),this.tenantDomain==="lehigh.edu"&&(n.establishment=new u({id:1,officialName:"Lehigh University",translatedName:"Lehigh University",officialUrl:"www.lehigh.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},this.owner)),this.tenantDomain==="umn.edu"&&(n.establishment=new u({id:1,officialName:"University of Minnesota",translatedName:"University of Minnesota",officialUrl:"www.umn.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},this.owner)),this.tenantDomain==="uc.edu"&&(n.establishment=new u({id:1,officialName:"University of Cincinnati33",translatedName:"University of Cincinnati33",officialUrl:"www.uc.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},this.owner),t.establishment=new u({id:1,officialName:"University of Cincinnati33",translatedName:"University of Cincinnati33",officialUrl:"www.uc.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},this.owner)),this.tenantDomain==="suny.edu"&&(n.establishment=new u({id:1,officialName:"State University of New York",translatedName:"State University of New York",officialUrl:"www.suny.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},this.owner)),this.participants.push(n)},n.prototype.removeParticipant=function(n,t){if(confirm('Are you sure you want to remove "'+n.establishment.translatedName()+'" as a participant from this agreement?')){var i=this;i.participants.remove(function(t){return t.establishment.id()===n.establishment.id()&&$(t.participantEl).slideUp("fast",function(){i.participants.remove(t)}),!1})}return t.preventDefault(),t.stopPropagation(),!1},n.prototype.addParticipant=function(){var n=this;this.hasBoundSearch||(ko.applyBindings(this.establishmentSearchViewModel,$("#estSearch")[0]),this.establishmentSearchViewModel.sammy.run()),this.hasBoundSearch=!0,this.establishmentSearchViewModel.detailTooltip=function(){return"Choose this establishment as a participant"};$("#cancelAddParticipant").on("click",function(){$("#estSearch").fadeOut(500,function(){$("#allParticipants").fadeIn(500)})});this.establishmentSearchViewModel.clickAction=function(t){$("#estSearch").fadeOut(500,function(){$("#allParticipants").fadeIn(500)});var i=new f({isOwner:!0,establishment:new u({id:1,officialName:"University of Cincinnati22",translatedName:"University of Cincinnati22",officialUrl:"www.uc.edu",countryName:"United States",countryCode:"asdf",uCosmicCode:"asdf",ceebCode:"asdf"},n.owner),isNotOwner:!1});i.establishment=t,n.participants.push(i)},$("#allParticipants").fadeOut(500,function(){$("#estSearch").fadeIn(500)})},n.prototype.swipeCallback=function(){},n.prototype.lockAnimation=function(){this.nextForceDisabled(!0),this.prevForceDisabled(!0)},n.prototype.unlockAnimation=function(){this.nextForceDisabled(!1),this.prevForceDisabled(!1)},n}(),t.InstitutionalAgreementEditModel=o})