var Agreements;(function(n){var t=function(){function n(n,t){this.$uAgreements=ko.observable(),this.uAgreements=ko.mapping.fromJS([]),this.uAgreementSelected=ko.observable(""),this.nickname=ko.observable(),this.content=ko.observable(),this.privateNotes=ko.observable(),this.$typeOptions=ko.observable(),this.typeOptions=ko.mapping.fromJS([]),this.typeOptionSelected=ko.observable(),this.agreementContent=ko.observable(),this.isCustomTypeAllowed=ko.observable(),this.isCustomStatusAllowed=ko.observable(),this.isCustomContactTypeAllowed=ko.observable(),this.agreementId=n,this.deferredUAgreements=t,this._setupValidation=this._setupValidation.bind(this),this._setupValidation()}return n.prototype.populateUmbrella=function(){var n=this;$.get(App.Routes.WebApi.Agreements.UmbrellaOptions.get(this.agreementId)).done(function(t){n.uAgreements(t),$("#umbrella_agreements").kendoDropDownList({dataTextField:"text",dataValueField:"value",optionLabel:"[None - this is a top-level or standalone agreement]",dataSource:new kendo.data.DataSource({data:n.uAgreements()})}),n.deferredUAgreements.resolve()})},n.prototype._setupValidation=function(){this.validateBasicInfo=ko.validatedObservable({agreementType:this.typeOptionSelected.extend({required:{message:"Agreement type is required."},maxLength:50}),nickname:this.nickname.extend({maxLength:50}),content:this.content.extend({maxLength:5e3}),privateNotes:this.privateNotes.extend({maxLength:250})})},n.prototype.bindJquery=function(){this.isCustomTypeAllowed?$("#type_options").kendoComboBox({dataTextField:"name",dataValueField:"id",dataSource:new kendo.data.DataSource({data:this.typeOptions()})}):$("#type_options").kendoDropDownList({dataTextField:"name",dataValueField:"id",dataSource:new kendo.data.DataSource({data:this.typeOptions()})})},n}();n.BasicInfo=t})(Agreements||(Agreements={}))