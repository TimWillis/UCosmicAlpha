var ViewModels;(function(n){(function(n){var t=function(){function n(){}return n}(),i;n.ActivitySearchInput=t,i=function(){function n(n,t){this.personId=t,this._initialize(n)}return n.prototype._initialize=function(n){var r=this,e=$.Deferred(),u,f,i;$.get(App.Routes.WebApi.Activities.Locations.get()).done(function(n){e.resolve(n)}).fail(function(n,t,i){e.reject(n,t,i)}),u=$.Deferred(),$.get(App.Routes.WebApi.Activities.Types.get()).done(function(n){u.resolve(n)}).fail(function(n,t,i){u.reject(n,t,i)}),f=$.Deferred(),i=new t,i.personId=this.personId,i.orderBy="",i.pageNumber=1,i.pageSize=10,$.ajax({type:"POST",url:App.Routes.WebApi.Activities.get(),data:i,success:function(n){f.resolve(n)},error:function(n,t,i){f.reject(n,t,i)},dataType:"json"}),$.when(u,e,f).then(function(t,i,u){r.activityTypesList=t,r.activityLocationsList=i,ko.mapping.fromJS(u,{},r),ko.applyBindings(r,$("#"+n)[0])},function(){})},n.prototype.addActivity=function(){},n.prototype.deleteActivity=function(){},n.prototype.getTypeName=function(n){var i="",t;if(this.activityTypesList!=null){for(t=0;t<this.activityTypesList.length&&n!=this.activityTypesList[t].id;)t+=1;t<this.activityTypesList.length&&(i=this.activityTypesList[t].type)}return i},n.prototype.getLocationName=function(n){var i="",t;if(this.activityLocationsList!=null){for(t=0;t<this.activityLocationsList.length&&n!=this.activityLocationsList[t].placeId;)t+=1;t<this.activityLocationsList.length&&(i=this.activityLocationsList[t].officialName)}return i},n.prototype.activityDatesFormatted=function(n,t){var r="",u=n!=null?new Date(n):null,i=t!=null?new Date(t):null;return u==null?i!=null&&(r=i.getMonth()+"/"+i.getDate()+"/"+i.getFullYear()):(r=u.getMonth()+"/"+u.getDate()+"/"+u.getFullYear(),i!=null&&(r+=" - "+i.getMonth()+"/"+i.getDate()+"/"+i.getFullYear())),r.length>0&&(r+="  "),r},n.prototype.activityLocationsFormatted=function(n){for(var i="",t=0;t<n.length;t+=1)t>0&&(i+=", "),i+=this.getLocationName(n[t].placeId());return i},n}(),n.ActivityList=i})(n.Activities||(n.Activities={}));var t=n.Activities})(ViewModels||(ViewModels={}))